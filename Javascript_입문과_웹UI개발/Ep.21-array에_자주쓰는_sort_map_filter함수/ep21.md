# array에 자주 쓰는 sort , map , filter 함수

<br>

## array 정렬하는 법

array 자료는 순서개념이 있다보니 정렬도 가능합니다.
<br>
그냥 문자 가나다순으로 정렬하려면 `.sort()` 붙이면 되는데 <br>
숫자 정렬은 이렇게 코드 짜면 됩니다.

```js
var 어레이 = [7, 3, 5, 2, 40];
어레이.sort(function (a, b) {
    return a - b;
});

console.log(어레이);
```

이러면 숫자 순으로 잘 출력 됩니다. <br><br><br>

## 숫자 순 정렬 동작 원리

```js
어레이.sort(function (a, b) {
    return a - b;
});
```

1. a,b 는 array 안의 자료들입니다.
2. return 오른쪽이 양수면 a를 오른쪽으로 정렬해줍니다.
3. return 오른쪽이 음수면 b를 오른쪽으로 정렬해줍니다.
4. 그리고 array 안의 자료들을 계속 뽑아서 a,b에 넣어줍니다.

이렇게 동작해서 a - b 라고 쓰면 숫자 순 정렬이 되는 것입니다. <br>

예를 들면 a,b가 7과 3일 경우 7 -3 하면 4가 남습니다. 4는 양수죠? 그러면 7을 3보다 오른쪽으로 보내줍니다. <br>
그래서 숫자 오름차순 (123순) 정렬이 완성되는 것입니다.

<br>

### 그럼 숫자 내림차순은?

```js
var 어레이 = [7, 3, 5, 2, 40];

어레이.sort(function (a, b) {
    return b - a;
});
```

-   return 우측이 음수면 b를 오른쪽으로 보낸다고 했습니다.
-   그럼 a,b가 7과 3일경우 return -4라서 3을 더 오른쪽으로 보내줍니다.

<br>

### 자료는 정렬했는데 왜 html은 정렬안됨

자료만 정렬해달랬지 html도 새로 만들라고는 아직 안했습니다.
<br>

1. 가격순 정렬 버튼 누르면
2. 자료를 가격순으로 정렬해주세요
3. 지금 있는 카드 3개 지우고 products 갯수만큼 카드를 새로 만들어주세요

라고 코드를 짜면 됩니다.

<br><br>

## array에 자주 쓰는 filter 함수

array 자료에서 원하는 자료만 필터링 하고싶으면 filter 함수 쓰면됩니다.

```js
var 어레이 = [7, 3, 5, 2, 40];

var 새어레이 = 어레이.filter(function (a) {
    return 조건식;
});
```

1. a라고 작명한건 array에 있던 데이터를 뜻하고
2. return 우측에 조건식을 넣으면 조건식에 맞는 a만 남겨줍니다.
3. 그리고 filter는 원본을 변형시키지 않는 고마운 함수기 때문에 새로운 변수에 담아써야 합니다.

<br>

```js
var 어레이 = [7, 3, 5, 2, 40];

var 새어레이 = 어레이.filter(function (a) {
    return a < 4;
});
```

예를 들어 여러 숫자가 있는데 그 중 4 미만인 것만 남기고 싶으면 이렇게 쓰면 됩니다. <br>

새어레이 출력해보면 [2,3] 이것만 남겠네요. <br>

이런거 응용하면 쇼핑몰에서 6만원 이하 상품만 보기 이런 필터기능도 만들 수 있습니다.

<br><br>

## array에 자주쓰는 map 함수

array 안의 자료들을 전부 변형하려면 map 함수를 씁니다.

```js
var 어레이 = [7, 3, 5, 2, 40];

var 새어레이 = 어레이.map(function (a) {
    return 수식같은거;
});
```

1. a라고 작명한건 array에 있던 데이터를 뜻하고
2. return 우측에 변경될 수식같은걸 넣으면 됩니다.
3. 그리고 filter는 원본을 변형시키지 않는 고마운 함수기 때문에 새로운 변수에 담아써야합니다.

<br>

```js
var 어레이 = [7, 3, 5, 2, 40];

var 새어레이 = 어레이.filter(function (a) {
    return a * 4;
});
```

예를 들어 array 안의 숫자들을 전부 4로 곱하고 싶으면 이렇게 짜면 됩니다. <br>
새 어레이 출력해보면 [28,12,20,8,160] 이게 있겠네요. <br>

이런거 응용하면 쇼핑몰에서 달러 -> 원화로 변환하기 이런 기능도 만들 수 있습니다.

<br><br>

+sort 함수는 원본을 변형시킵니다. <br>
원본을 변형시키는건 나중에 힘들어질 수 있기 때문에 array/object 잘 조작 시엔 원본을 따로 복사해두고 조작하는 경우가 많습니다.

<br><br>

## 다나가 순으로 정렬하려면?

```js
var 어레이 = ['가', '다', '나'];
어레이.sort(function(a, b){
  return 여기뭐써야함?
});
```

sort 함수 작동 원리는

-   a,b는 array 안에 있던 자료들임
-   return 우측이 양수면 a를 우측으로 보냄
-   return 우측이 음수면 b를 우측으로 보냄
-   array 안의 자료를 다 끌고와서 a,b에 계속 넣어봄

입니다.

<br>

위 코드에서 중요한건 return 우측에 뭘 집어넣냐 이건데<br>
예를 들어서 <br>

1. a,b가 "가" , "다" 일 경우 return 우측에 양수가 들어가야 다나가순 정렬이 됩니다.
2. a,b가 "다" , "나" 일 경우 return 우측에 음수가 들어가야 다나가순 정렬이 됩니다.
3. a,b가 "가" , "나" 일 경우 return 우측에 양수가 들어가야 다나가순 정렬이 됩니다.

이렇게 대충 하나하나 대입해서 보면 규칙 같은게 있습니다. <br>
a가 b보다 작을경우 return 우측에 양수가 들어가면 되고 <br>
a가 b보다 클 경우 return 우측에 음수가 들어가면 됩니다.<br>
(자바스크립트는 문자끼리 부등호 비교가 가능합니다. ㄱ 보다 ㅎ 이게 더 큽니다.)

```js
var 어레이 = ['가', '다', '나'];
어레이.sort(function (a, b) {
    if (a < b) {
        return 1;
    } else {
        return -1;
    }
});

console.log(어레이);
```
